<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>taoensso.tower.utils documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Tower 2.0.0-alpha17 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="taoensso.tower.html"><span>taoensso.tower</span></a></li><li><a href="taoensso.tower.ring.html"><span>taoensso.tower.ring</span></a></li><li class="current"><a href="taoensso.tower.utils.html"><span>taoensso.tower.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="taoensso.tower.utils.html#var-defmem-"><span>defmem-</span></a></li><li><a href="taoensso.tower.utils.html#var-defonce*"><span>defonce*</span></a></li><li><a href="taoensso.tower.utils.html#var-escape-html"><span>escape-html</span></a></li><li><a href="taoensso.tower.utils.html#var-file-resource-last-modified"><span>file-resource-last-modified</span></a></li><li><a href="taoensso.tower.utils.html#var-file-resources-modified%3F"><span>file-resources-modified?</span></a></li><li><a href="taoensso.tower.utils.html#var-fq-name"><span>fq-name</span></a></li><li><a href="taoensso.tower.utils.html#var-inline-markdown-%3Ehtml"><span>inline-markdown-&gt;html</span></a></li><li><a href="taoensso.tower.utils.html#var-leaf-nodes"><span>leaf-nodes</span></a></li><li><a href="taoensso.tower.utils.html#var-memoize-ttl"><span>memoize-ttl</span></a></li><li><a href="taoensso.tower.utils.html#var-merge-deep-with"><span>merge-deep-with</span></a></li><li><a href="taoensso.tower.utils.html#var-parse-http-accept-header"><span>parse-http-accept-header</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>taoensso.tower.utils documentation</h2><pre class="doc"></pre><div class="public" id="var-defmem-"><h3>defmem-</h3><h4 class="macro">macro</h4><div class="usage"><code>(defmem- name type-hint fn-params fn-body)</code></div><pre class="doc">Defines a type-hinted, private memoized fn.
</pre></div><div class="public" id="var-defonce*"><h3>defonce*</h3><h4 class="macro">macro</h4><div class="usage"><code>(defonce* name expr)</code></div><pre class="doc">Like `clojure.core/defonce` but supports optional docstring and attributes
map for name symbol.</pre></div><div class="public" id="var-escape-html"><h3>escape-html</h3><div class="usage"><code>(escape-html s)</code></div><pre class="doc">Changes some common special characters into HTML character entities.
</pre></div><div class="public" id="var-file-resource-last-modified"><h3>file-resource-last-modified</h3><div class="usage"><code>(file-resource-last-modified resource-name)</code></div><pre class="doc">Returns last-modified time for file backing given named resource, or nil if
file doesn't exist.</pre></div><div class="public" id="var-file-resources-modified%3F"><h3>file-resources-modified?</h3><div class="usage"></div><pre class="doc">Returns true iff any files backing the given group of named resources
have changed since this function was last called.</pre></div><div class="public" id="var-fq-name"><h3>fq-name</h3><div class="usage"><code>(fq-name x)</code></div><pre class="doc">Like `name` but includes namespace in string when present.
</pre></div><div class="public" id="var-inline-markdown-%3Ehtml"><h3>inline-markdown-&gt;html</h3><div class="usage"><code>(inline-markdown-&gt;html &amp; strs)</code></div><pre class="doc">Uses regex to parse given markdown string into HTML. Doesn't do any escaping.
**x** =&gt; &lt;strong&gt;x&lt;/strong&gt;
*x*   =&gt; &lt;em&gt;x&lt;/em&gt;
__x__ =&gt; &lt;b&gt;x&lt;/b&gt;
_x_   =&gt; &lt;i&gt;x&lt;/i&gt;
~~x~~ =&gt; &lt;span class=&quot;alt1&quot;&gt;x&lt;/span&gt;
~x~   =&gt; &lt;span class=&quot;alt2&quot;&gt;x&lt;/span&gt;</pre></div><div class="public" id="var-leaf-nodes"><h3>leaf-nodes</h3><div class="usage"><code>(leaf-nodes m)</code></div><pre class="doc">Takes a nested map and squashes it into a sequence of paths to leaf nodes.
Based on 'flatten-tree' by James Reaves on Google Groups.</pre></div><div class="public" id="var-memoize-ttl"><h3>memoize-ttl</h3><div class="usage"><code>(memoize-ttl ttl f)</code></div><pre class="doc">Like `memoize` but invalidates the cache for a set of arguments after TTL
msecs has elapsed.</pre></div><div class="public" id="var-merge-deep-with"><h3>merge-deep-with</h3><div class="usage"><code>(merge-deep-with f &amp; maps)</code></div><pre class="doc">Like `merge-with` but merges maps recursively, applying the given fn
only when there's a non-map at a particular level.

(merge-deep-with + {:a {:b {:c 1 :d {:x 1 :y 2}} :e 3} :f 4}
                  {:a {:b {:c 2 :d {:z 9} :z 3} :e 100}})
=&gt; {:a {:b {:z 3, :c 3, :d {:z 9, :x 1, :y 2}}, :e 103}, :f 4}</pre></div><div class="public" id="var-parse-http-accept-header"><h3>parse-http-accept-header</h3><div class="usage"><code>(parse-http-accept-header header)</code></div><pre class="doc">Parses HTTP Accept header and returns sequence of [choice weight] pairs
sorted by weight.</pre></div></div></body></html>