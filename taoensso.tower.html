<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>taoensso.tower documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Tower 1.7.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="taoensso.tower.html"><span>taoensso.tower</span></a></li><li><a href="taoensso.tower.ring.html"><span>taoensso.tower.ring</span></a></li><li><a href="taoensso.tower.utils.html"><span>taoensso.tower.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="taoensso.tower.html#var-config"><span>config</span></a></li><li><a href="taoensso.tower.html#var-format-msg"><span>format-msg</span></a></li><li><a href="taoensso.tower.html#var-format-str"><span>format-str</span></a></li><li><a href="taoensso.tower.html#var-l-compare"><span>l-compare</span></a></li><li><a href="taoensso.tower.html#var-load-dictionary-from-map-resource%21"><span>load-dictionary-from-map-resource!</span></a></li><li><a href="taoensso.tower.html#var-normalize"><span>normalize</span></a></li><li><a href="taoensso.tower.html#var-parse-Locale"><span>parse-Locale</span></a></li><li><a href="taoensso.tower.html#var-scope"><span>scope</span></a></li><li><a href="taoensso.tower.html#var-sorted-localized-countries"><span>sorted-localized-countries</span></a></li><li><a href="taoensso.tower.html#var-sorted-localized-languages"><span>sorted-localized-languages</span></a></li><li><a href="taoensso.tower.html#var-sorted-timezones"><span>sorted-timezones</span></a></li><li><a href="taoensso.tower.html#var-style"><span>style</span></a></li><li><a href="taoensso.tower.html#var-t"><span>t</span></a></li><li><a href="taoensso.tower.html#var-tstr"><span>tstr</span></a></li><li><a href="taoensso.tower.html#var-with-locale"><span>with-locale</span></a></li><li><a href="taoensso.tower.html#var-with-scope"><span>with-scope</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>taoensso.tower documentation</h2><pre class="doc">Simple internationalization (i18n) and localization (L10n) library for
Clojure. Wraps standard Java facilities when possible.</pre><div class="public" id="var-config"><h3>config</h3><div class="usage"></div><pre class="doc">This map atom controls everything about the way Tower operates.

To enable translations, :dictionary should be a map of form
{:locale {:ns1 ... {:nsN {:key&lt;decorator&gt; text}}}}}.

:default-locale controls fallback locale for `with-locale` and `t`.
:dev-mode? controls `t` automatic dictionary reloading and default
  `log-missing-translation!-fn` behaviour.

See source code for details.
See `set-config!`, `merge-config!` for convenient config/dictionary
editing.</pre></div><div class="public" id="var-format-msg"><h3>format-msg</h3><div class="usage"><code>(format-msg pattern &amp; args)</code></div><pre class="doc">Creates a localized message formatter and parse pattern string, substituting
given arguments as per MessageFormat spec.</pre></div><div class="public" id="var-format-str"><h3>format-str</h3><div class="usage"><code>(format-str fmt &amp; args)</code></div><pre class="doc">Like clojure.core/format but uses a locale.
</pre></div><div class="public" id="var-l-compare"><h3>l-compare</h3><div class="usage"><code>(l-compare x y)</code></div><pre class="doc">Localized Unicode comparator.
</pre></div><div class="public" id="var-load-dictionary-from-map-resource%21"><h3>load-dictionary-from-map-resource!</h3><div class="usage"><code>(load-dictionary-from-map-resource!)</code><code>(load-dictionary-from-map-resource! resource-name &amp; [merge?])</code></div><pre class="doc">Sets dictionary by loading a Clojure map from named resource. Without any
arguments, searches for `tower-dictionary.clj` in classpath and Leiningen's
resource paths.</pre></div><div class="public" id="var-normalize"><h3>normalize</h3><div class="usage"><code>(normalize s)</code></div><pre class="doc">Transforms Unicode string into W3C-recommended standard de/composition form
allowing easier searching and sorting of strings. Normalization is considered
good hygiene when communicating with a DB or other software.</pre></div><div class="public" id="var-parse-Locale"><h3>parse-Locale</h3><div class="usage"><code>(parse-Locale locale)</code></div><pre class="doc">Returns valid Locale matching given name string/keyword, or nil if no valid
matching Locale could be found. `locale` should be of form :en, :en-US,
:en-US-variant, or :default for config's default.</pre></div><div class="public" id="var-scope"><h3>scope</h3><div class="usage"></div><pre class="doc">(scope :a.b.c :d.e :f) =&gt; :a.b.c.d.e.f
</pre></div><div class="public" id="var-sorted-localized-countries"><h3>sorted-localized-countries</h3><div class="usage"><code>(sorted-localized-countries)</code><code>(sorted-localized-countries iso-countries)</code></div><pre class="doc">Returns map containing ISO country codes and corresponding localized country
names, both sorted by the localized names.</pre></div><div class="public" id="var-sorted-localized-languages"><h3>sorted-localized-languages</h3><div class="usage"><code>(sorted-localized-languages)</code><code>(sorted-localized-languages iso-languages)</code></div><pre class="doc">Returns map containing ISO language codes and corresponding localized
language names, both sorted by the localized names.</pre></div><div class="public" id="var-sorted-timezones"><h3>sorted-timezones</h3><div class="usage"></div><pre class="doc">Returns map containing timezone IDs and corresponding pretty timezone names,
both sorted by the timezone's offset. Caches result for 3 hours.</pre></div><div class="public" id="var-style"><h3>style</h3><div class="usage"><code>(style)</code><code>(style style)</code></div><pre class="doc">Returns a DateFormat time/date style constant by style key e/o
#{:default :short :medium :long :full}.</pre></div><div class="public" id="var-t"><h3>t</h3><div class="usage"><code>(t k-or-ks &amp; interpolation-args)</code><code>(t k-or-ks)</code></div><pre class="doc">Localized text translator. Takes (possibly scoped) dictionary key (or vector
of descending-preference keys) of form :nsA.&lt;...&gt;.nsN/key within a root scope
:ns1.&lt;...&gt;.nsM and returns the best translation available for working locale.

With additional arguments, treats translated text as pattern for message
formatting.

If :dev-mode? is set in `tower/config` and if dictionary was loaded using
`tower/load-dictionary-from-map-resource!`, dictionary will be automatically
reloaded each time the resource file changes.</pre></div><div class="public" id="var-tstr"><h3>tstr</h3><h4 class="macro">macro</h4><div class="usage"><code>(tstr k-or-ks)</code><code>(tstr k-or-ks &amp; more)</code></div><pre class="doc">EXPERIMENTAL. Like `t` but joins together multiple translations:
(tstr :k1 :k2 &quot;arg1&quot; &quot;arg2&quot; [:k3-choice1 :k3-choice2]) =&gt;
(str/join &quot; &quot; (t :k1) (t :k2 &quot;arg1&quot; &quot;arg2&quot;) (t [:k3-choice1 :k3-choice2]))</pre></div><div class="public" id="var-with-locale"><h3>with-locale</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-locale locale &amp; body)</code></div><pre class="doc">Executes body within the context of thread-local locale binding, enabling
use of translation and localization functions. `locale` should be of form :en,
:en-US, :en-US-variant, or :default for config's default.</pre></div><div class="public" id="var-with-scope"><h3>with-scope</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-scope translation-scope &amp; body)</code></div><pre class="doc">Executes body within the context of thread-local translation-scope binding.
`translation-scope` should be a keyword like :example.greetings, or nil.</pre></div></div></body></html>